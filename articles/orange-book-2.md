---
title: "30日後にosを完成させる。(2日目)"
emoji: "🔖"
type: "tech" # tech: 技術記事 / idea: アイデア
topics: ["os"]
published: true
---

## 10/30のアウトプット
バイナリエディタではなく普通のエディタ(vim)でcファイルを作成しコンパイルとリンクを行い、hello worldを表示させた(p51まで)

## 理解したこと
- 0xが16進数表記。
- 0bが2進数表記。
- cpuはデジタル回路。電圧が低いか高いかという２値で動作するような回路。そのため2進数を使う。
- 64bitCPUとは一回の計算で64桁の２進数を扱えるということ。
例:
(1 * 2 ** 63 + 1 * 2 ** 62 + 1 * 2 ** 61 + 1 * 2 ** 60 + 1 * 2 ** 59 + 1 * 2 ** 58 + 1 * 2 ** 57 + 1 * 2 ** 56 + 1 * 2 ** 55 + 1 * 2 ** 54 + 1 * 2 ** 53 + 1 * 2 ** 52 + 1 * 2 ** 51 + 1 * 2 ** 50 + 1 * 2 ** 49 + 1 * 2 ** 48 + 1 * 2 ** 47 + 1 * 2 ** 46 + 1 * 2 ** 45 + 1 * 2 ** 44 + 1 * 2 ** 43 + 1 * 2 ** 42 + 1 * 2 ** 41 + 1 * 2 ** 40 + 1 * 2 ** 39 + 1 * 2 ** 38 + 1 * 2 ** 37 + 1 * 2 ** 36 + 1 * 2 ** 35 + 1 * 2 ** 34 + 1 * 2 ** 33 + 1 * 2 ** 32 + 1 * 2 ** 31 + 1 * 2 ** 30 + 1 * 2 ** 29 + 1 * 2 ** 28 + 1 * 2 ** 27 + 1 * 2 ** 26 + 1 * 2 ** 25 + 1 * 2 ** 24 + 1 * 2 ** 23 + 1 * 2 ** 22 + 1 * 2 ** 21 + 1 * 2 ** 20 + 1 * 2 ** 19 + 1 * 2 ** 18 + 1 * 2 ** 17 + 1 * 2 ** 16 + 1 * 2 ** 15 + 1 * 2 ** 14 + 1 * 2 ** 13 + 1 * 2 ** 12 + 1 * 2 ** 11 + 1 * 2 ** 10 + 1 * 2 ** 9 + 1 * 2 ** 8 + 1 * 2 ** 7 + 1 * 2 ** 6 + 1 * 2 ** 5 + 1 * 2 ** 4 + 1 * 2 ** 3 + 1 * 2 ** 2 + 1 * 2 ** 1 + 1 * 2 ** 0) = 1844京6744兆737億955万2000

- コンピュータで扱う数値は２種類。機械語命令かそれ以外か

- 1日目でなぜhello world!文字列が出たのか？実行可能ファイルをUSBメモリに指定された名前で保存されており、pcに内蔵しているUEFI BIOSがそのファイルを読み取ったから。

- usbメモリとはよく見るusb。フラッシュメモリというものでデータの長期保存には適正ていないが電源を消してもデータは消えない。

- BIOS(basic input output system)はpcに電源を入れて最初に実行されるファームウェアと呼ばれるプログラム。osをストレージから読み出す。UEFI(unified extensible firmware interface) という仕様に従って作られたBIOSをUEFI BIOSという。

- UEFI BIOSが実行してくれるアプリケーションをUEFIアプリケーションと呼ぶ。

- メモリには1バイトごとに番地が振られている
- CPUはアドレスを使って機械語命令を読み、データを読み書きする。

- メインメモリにはPysicalStart, Type, NumberOfPagesがある。
    - 番地, 番地の使われ方、何ページあるか(ページ単位は4KiB)

## 感想
みかん本のgithubのソースコードを見てるだけで実際に手を動かしていないことに気づいた。
これではいかんとgithubのリポジトリを作った。
https://github.com/satouyuuki/mikanos

ただ写経してるだけだとつまらないので以下のURLを参考にqemuのデバッグを試みたが失敗。(uefiアプリのビルドが全然終わらない)
https://blog.rkarsnk.jp/post/2021/12/10/debugefiapp/
走行してるうちに時間が経ってしまったので今日はここまで
